<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>iTerm2 with tmux | jtimberman’s blog</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="iTerm2 with tmux" />
<meta name="author" content="Joshua Timberman" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A new “which tool is best” battle is raging in the internets amongst developers and system administrators. The contestants are screen and tmux, and the jury is still out. This is very much an argument over what color to paint the bikeshed, but with the latest version of iTerm2, I think tmux is even more compelling. Personally, I chose tmux awhile ago." />
<meta property="og:description" content="A new “which tool is best” battle is raging in the internets amongst developers and system administrators. The contestants are screen and tmux, and the jury is still out. This is very much an argument over what color to paint the bikeshed, but with the latest version of iTerm2, I think tmux is even more compelling. Personally, I chose tmux awhile ago." />
<link rel="canonical" href="/blog/2012/01/28/iterm2-with-tmux" />
<meta property="og:url" content="/blog/2012/01/28/iterm2-with-tmux" />
<meta property="og:site_name" content="jtimberman’s blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2012-01-28T15:03:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="iTerm2 with tmux" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Joshua Timberman"},"description":"A new “which tool is best” battle is raging in the internets amongst developers and system administrators. The contestants are screen and tmux, and the jury is still out. This is very much an argument over what color to paint the bikeshed, but with the latest version of iTerm2, I think tmux is even more compelling. Personally, I chose tmux awhile ago.","url":"/blog/2012/01/28/iterm2-with-tmux","headline":"iTerm2 with tmux","@type":"BlogPosting","dateModified":"2012-01-28T15:03:00+00:00","datePublished":"2012-01-28T15:03:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/blog/2012/01/28/iterm2-with-tmux"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="jtimberman's blog" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-26031299-1"></script>
<script>
  window['ga-disable-UA-26031299-1'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-26031299-1');
</script>

</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">jtimberman&#39;s blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">iTerm2 with tmux</h1>
    <p class="post-meta"><time class="dt-published" datetime="2012-01-28T15:03:00+00:00" itemprop="datePublished">
        Jan 28, 2012
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>A new “which tool is best” battle is raging in the internets amongst
developers and system administrators. The contestants are <a href="http://www.gnu.org/software/screen/">screen</a>
and <a href="http://tmux.sourceforge.net/">tmux</a>, and the
<a href="https://www.google.com/search?q=tmux+vs+screen">jury is still out</a>.
This is very much an argument over what color to paint the bikeshed,
but with the latest version of
<a href="http://www.iterm2.com/">iTerm2</a>, I think tmux is even more
compelling. Personally, I chose tmux awhile ago.</p>

<p>At my <a href="http://opscode.com">day job</a>, I worked with a customer that
uses tmux for remote pairing between developers. At the time, tmux had
better customizability, and better split-pane support (screen didn’t
yet have vertical split). I stuck with tmux ever since, and was very
pleased when an iTerm2 update announced integration with tmux.</p>

<h1 id="iterm2">iTerm2</h1>

<p>For those who aren’t aware, iTerm2 is an alternate terminal program
for Mac OS X. It is actually an updated codebase from the original,
<a href="http://iterm.sourceforge.net/">iTerm</a>, which is effectively
<a href="http://iterm.sourceforge.net/news.shtml">unmaintained</a>. iTerm2 offers
a lot of excellent features like split panes, Growl support, and
<a href="http://www.iterm2.com/#/section/features">many more</a>.</p>

<p>One of the excellent new features is integration with tmux.</p>

<h1 id="iterm2s-tmux-integration">iTerm2’s tmux integration</h1>

<p>If you already have iTerm2 installed, you may have seen the update
check prompt you to update. You also need to install a special version
of tmux that has the integration patched. The iTerm2 author is working
with the tmux author to get this into the latest tmux codebase, so
hopefully the custom compiled version won’t be necessary soon.</p>

<p>Using the new feature is relatively straightforward. Start up iTerm2
like normal. Then run <code class="language-plaintext highlighter-rouge">tmux -C</code> to open a new iTerm2 window that works
like tmux.</p>

<p><img src="http://img.skitch.com/20120128-cxjbh9hf9feagn5p5ieg574uce.png" alt="Launch tmux in iTerm2" /></p>

<p>Use the tmux menu in iTerm2 to open new windows in tmux. Note that there
are keyboard shortcuts for each of these, and they are not the same as
the tmux window commands.</p>

<p><img src="http://img.skitch.com/20120128-diexhy69d8t3b9da6g65yjmsum.png" alt="Use tmux menu to open buffers" /></p>

<p>You can also attach to a tmux session running in iTerm2. In the
screenshot, this is running on the same system, for example purposes.
However, since OS X has SSH, this can be useful if you want to SSH to
another system in the local network and connect to the running
session. For example, the system shown below is my wife’s iMac over
screensharing, but I wouldn’t need to use screenshare (or participate
in its lag) to connect to this anymore. The same holds true for
connecting to my work laptop if necessary.</p>

<p><img src="http://img.skitch.com/20120128-txr67q3jftmcw26n84jm5hpgm.png" alt="Attach to tmux session in iTerm2" /></p>

<p>In this final example screenshot, you can see that I have multiple
panes split in one iTerm2 tab. These correspond to the split windows
in the attached tmux in the other window. Also, the two tabs in the
iTerm2 window are separate tmux windows (<code class="language-plaintext highlighter-rouge">0:zsh</code> and <code class="language-plaintext highlighter-rouge">1:zsh</code>).</p>

<p><img src="http://img.skitch.com/20120128-miaa1dkeatt2hebxcxst8sydy1.png" alt="iTerm2 panes are panes in tmux" /></p>

<p>And now, I can SSH to that system and attach to the tmux session
started by iTerm2.</p>

<p><img src="http://img.skitch.com/20120129-gjgajqnekq93da59m4r86ewh2k.png" alt="SSH to remote and run tmux attach" /></p>

<p><img src="http://img.skitch.com/20120129-j2x4iir5557nt68n5jmr64f8dp.png" alt="tmux is attached to iTerm2 session" /></p>

<h1 id="automating-installation-with-chef">Automating Installation with Chef</h1>

<p>Installing OS X apps is quite easy, but I automate them
<a href="/blog/2011/04/03/managing-my-workstations-with-chef/">with Chef</a>
anyway. While it is a simple “install update and restart”, with a
couple commands to install the update, I do have three systems I want
this on. I updated my
<a href="http://community.opscode.com/cookbooks/iterm2">iterm2 cookbook</a> to
support installing the tmux integration for iTerm2. This is disabled
by default, so it needs to be enabled via a node attribute. For
example, I have this in my <code class="language-plaintext highlighter-rouge">workstation</code> role applied to my OS X
workstations.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">name</span> <span class="s2">"workstation"</span>
<span class="n">description</span> <span class="s2">"Mac OS X workstations"</span>
<span class="n">run_list</span><span class="p">(</span><span class="s2">"recipe[tmux]"</span><span class="p">)</span>
<span class="n">default_attributes</span><span class="p">(</span>
  <span class="s2">"iterm2"</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="s2">"tmux_enabled"</span> <span class="o">=&gt;</span> <span class="kp">true</span>
  <span class="p">}</span>
<span class="p">)</span>
</code></pre></div></div>

<p>Check out the iterm2 cookbook’s README for more information.</p>

  </div><a class="u-url" href="/blog/2012/01/28/iterm2-with-tmux" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/%20/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">jtimberman&#39;s blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Copyright &copy; Joshua Timberman</li><li><a class="u-email" href="mailto:blog@housepub.org">blog@housepub.org</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jekyll" title="jekyll"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/jekyllrb" title="jekyllrb"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Operations, Automation, Deployment, Workflows, DevOps; see my About page for ways you can support me.</p>
      </div>
    </div>

    <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/us/"><img alt="Creative
      Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/us/80x15.png" /></a> This
    work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/us/">Creative Commons
      Attribution-ShareAlike 3.0 United States License</a>.
  </div>

</footer></body>

</html>
